 Stock Trading Bot - Telegram Бот для прогнозирования цен акций
Описание проекта
Telegram-бот для прогнозирования цен акций и генерации торговых рекомендаций. Бот использует машинное обучение для анализа исторических данных и предоставляет прогноз на 30 дней вперед.

✨ Возможности
Загрузка данных акций с Yahoo Finance

Автоматический выбор лучшей модели из 4 алгоритмов

Прогноз цен на 30 дней вперед

Торговые рекомендации (покупка/продажа)

Расчет потенциальной прибыли

Визуализация прогноза

Логирование всех запросов

Архитектура проекта
stock_bot/
├── bot.py                    # Основной файл Telegram бота
├── models.py                 # Модели машинного обучения
├── utils.py                  # Вспомогательные функции
├── .env                      # Конфигурация (токен бота)
├── requirements.txt          # Зависимости Python
├── README.md                 # Эта документация
├── logs.txt                  # Логи запросов пользователей
└── bot.log                   # Логи выполнения

Поддерживаемые модели
Random Forest - классическая ML модель

ARIMA - статистическая модель временных рядов

Prophet - модель Facebook для прогнозирования

LSTM - нейросетевая модель для временных рядов

Быстрый старт
1. Предварительные требования
Python 3.12+

Telegram аккаунт

Токен бота от @BotFather

2. Установка
Вариант A: Использование conda

conda create -n stock_bot_env python=3.12 -y
conda activate stock_bot_env
pip install -r requirements.txt


Вариант B: Использование virtualenv

python -m venv venv
venv\Scripts\activate
pip install -r requirements.txt


3. Настройка
Получите токен бота у @BotFather

Создайте файл .env в корне проекта:

TELEGRAM_BOT_TOKEN=ваш_токен_здесь
Настройте дополнительные параметры при необходимости

4. Запуск бота

python bot.py
После запуска вы увидите:

text
Бот запущен...
Использование
Команды бота:
/start - начать диалог и ввести тикер

/help - показать справку

/cancel - отменить текущую операцию

Процесс работы:
Введите тикер компании (например: AAPL, TSLA, NVDA)

Введите сумму инвестиции в USD

Получите результаты:

График прогноза

Сводку анализа

Торговые рекомендации

Расчет потенциальной прибыли

Настройка моделей
Вы можете настроить параметры моделей в файле models.py:

# Количество дней для прогноза
FORECAST_DAYS = 30

# Период исторических данных
DATA_PERIOD = '2y'  # 2 года

# Параметры Random Forest
RF_N_ESTIMATORS = 100
RF_MAX_DEPTH = 10

# Параметры LSTM
LSTM_UNITS = 50
LSTM_DROPOUT = 0.2


Логирование
Бот ведет два типа логов:

logs.txt - логи запросов пользователей:

json
{
  "timestamp": "2024-01-13 18:20:00",
  "user_id": 123456789,
  "ticker": "NVDA",
  "amount": 1000,
  "best_model": "LSTM",
  "metrics": {"rmse": 15.37, "mape": 2.84},
  "potential_profit": 31.80
}
bot.log - логи выполнения программы
